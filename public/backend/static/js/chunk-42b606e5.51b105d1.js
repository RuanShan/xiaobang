(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42b606e5"],{"0cf6":function(e,t,n){"use strict";n.d(t,"a",function(){return c});n("7364");var r=n("98d4"),a=n("ab1f"),i=n("b0db"),o=n.n(i),s=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,c=function(){function e(t){Object(r["a"])(this,e),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return Object(a["a"])(e,null,[{key:"create",value:function(t,n){var r=new e(t);r.create(n)}}]),Object(a["a"])(e,[{key:"create",value:function(e){var t=this;this.callback=e,this.md5Buffer=new o.a.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(e){return t.fileReaderDidLoad(e)}),this.fileReader.addEventListener("error",function(e){return t.fileReaderDidError(e)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){var t=this.md5Buffer.end(!0),n=btoa(t);this.callback(null,n)}}},{key:"fileReaderDidError",value:function(e){this.callback("Error reading ".concat(this.file.name))}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||0===this.chunkIndex&&0===this.chunkCount){var e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),n=s.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),e}()},"23de":function(e,t,n){},"601d":function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("7364");var r=n("98d4"),a=n("ab1f"),i=function(){function e(t,n){var a=this;Object(r["a"])(this,e),this.file=t;var i=n.url,o=n.headers;for(var s in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",i,!0),this.xhr.responseType="text",o)this.xhr.setRequestHeader(s,o[s]);this.xhr.addEventListener("load",function(e){return a.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return a.requestDidError(e)})}return Object(a["a"])(e,[{key:"create",value:function(e){this.callback=e,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(e){var t=this.xhr,n=t.status,r=t.response;n>=200&&n<300?this.callback(null,r):this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error storing "'.concat(this.file.name,'". Status: ').concat(this.xhr.status))}}]),e}()},"67ad":function(e,t,n){"use strict";var r=n("23de"),a=n.n(r);a.a},7082:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-container"},[n("Form")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addNewBox"},[n("el-form",{ref:"postForm",attrs:{model:e.postForm,"label-width":"80px"}},[n("div",{staticClass:"form-main-container"},[n("el-form-item",{attrs:{label:"活动名称"}},[n("el-input",{model:{value:e.game.name,callback:function(t){e.$set(e.game,"name",t)},expression:"game.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"投票时间"}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.game.startandend,callback:function(t){e.$set(e.game,"startandend",t)},expression:"game.startandend"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"活动说明"}},[n("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.postForm.content,callback:function(t){e.$set(e.postForm,"content",t)},expression:"postForm.content"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)])],1)},o=[],s=(n("7364"),n("63ff"),n("e71e")),c=(n("debc"),n("9e32"),n("d96b")),u=n("8256"),l=(n("0cf6"),n("601d"),{components:{Tinymce:u["a"]},props:{command:{default:!1}},data:function(){return{postForm:{},albumData:{name:"",desc:"",Photos:[]},filelist:[],fileToDelete:[],game:{name:"",desc:"",duration:""},account:"",password:""}},watch:{command:function(e,t){console.log("watch-command new: %s, old: %s",e,t),!0===e?(console.log("show"),this.game={name:"",desc:"",duration:""}):console.log("hide")}},created:function(){},methods:{onSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("========onSubmit========"),n=!0,r=this.game.name,this.game.duration,n&&(a={user_id:1,name:r,code:"ztoupiao",duration:30},Object(c["a"])(a).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("res----:",t),console.log("postForm-------:",i.postForm),console.log("content------:",i.postForm.content),n={code:t.code,number:t.number,desc:i.postForm.content},Object(c["t"])(n).then(function(e){console.log("res----:",e)}),i.$emit("addNew_over");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),d=l,h=n("6691"),f=Object(h["a"])(d,i,o,!1,null,"1d7b52ae",null),m=f.exports,p={name:"CreateGameRound",components:{Form:m}},b=p,v=(n("67ad"),Object(h["a"])(b,r,a,!1,null,"11edd70c",null));t["default"]=v.exports},e474:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s});var r=n("7dfd"),a="/gapi/album",i=function(e,t){return Object(r["a"])(a+"/"+e+"/getPoster",t,"POST")},o=function(e,t){return Object(r["a"])(a+"/"+e+"/modifyPoster",t,"POST")},s=function(e,t){return Object(r["a"])(a+"/"+e+"/createDesc",t,"POST")}}}]);