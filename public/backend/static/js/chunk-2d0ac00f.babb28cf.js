(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac00f"],{"184f":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-container"},[o("Form",{attrs:{post:t.post},on:{submit:t.handleSubmit}})],1)},a=[],s=o("873c"),i=(o("f763"),o("3b54"),o("63ff"),o("e71e")),r=o("238a"),c=o("d96b"),l=o("b435"),u="/api/backend/photos/ztoupiao/create",p={components:{Form:r["a"]},data:function(){return{termList:[],game:{name:"",desc:"",duration:""},account:"",password:"",ui:{addNewBoxVisiable:!1},post:{},postData:{},newUploads:[],uploadData:{viewable_type:"cover",viewable_id:0},termssss:[]}},computed:{postId:function(){return this.$route.params.id}},watch:{$route:"initData"},created:function(){this.initData()},methods:{initData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,o,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=Object(c["o"])(),o=Object(c["l"])(this.postId),Promise.all([e,o]).then(function(t){var e=Object(s["a"])(t),o=e[0],a=e[1];n.termList=o,console.log("res---:",a),n.post=a.post,console.log("this.post???",n.post),n.postData=a.post;for(var i=a.terms,r=[],c=0;c<i.length;c++)r.push(i[c].value);n.termssss=r,a.cover&&n.newUploads.push({name:a.cover.file_name,url:a.cover.originalUrl})});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleUpload:function(t){var e=t.file,o=u+"?token="+this.$store.getters.token;console.log("handleDirectUpload option= ",t,o);var n=new l["a"](e,o,t,function(e){t.onSuccess(null,t.file)});console.log("uploader=",n),n.upload()},handleUploadSuccess:function(t,e,o){console.log("------------------handleUploadSuccess--------------------"),console.log(t,e,o)},handleSubmit:function(t){var e=this;console.log("========handleSubmit========");var o=t;console.log("data------:",o),o.post.id=this.postData.id;var n={post_id:this.postData.id};Object(c["y"])(n).then(function(t){Object(c["v"])(o).then(function(t){console.log("res----:",t),e.$router.push("/post/list")})})}}},d=p,h=o("6691"),f=Object(h["a"])(d,n,a,!1,null,null,null);e["default"]=f.exports}}]);