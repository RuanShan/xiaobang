(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69789d40","chunk-52662dd5","chunk-7ff7bd60"],{"0cf6":function(e,t,r){"use strict";r.d(t,"a",function(){return c});r("7364");var n=r("98d4"),a=r("ab1f"),i=r("b0db"),o=r.n(i),s=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,c=function(){function e(t){Object(n["a"])(this,e),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return Object(a["a"])(e,null,[{key:"create",value:function(t,r){var n=new e(t);n.create(r)}}]),Object(a["a"])(e,[{key:"create",value:function(e){var t=this;this.callback=e,this.md5Buffer=new o.a.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(e){return t.fileReaderDidLoad(e)}),this.fileReader.addEventListener("error",function(e){return t.fileReaderDidError(e)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){var t=this.md5Buffer.end(!0),r=btoa(t);this.callback(null,r)}}},{key:"fileReaderDidError",value:function(e){this.callback("Error reading ".concat(this.file.name))}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||0===this.chunkIndex&&0===this.chunkCount){var e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),r=s.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(r),this.chunkIndex++,!0}return!1}}]),e}()},"1c14":function(e,t,r){},"601d":function(e,t,r){"use strict";r.d(t,"a",function(){return i});r("7364");var n=r("98d4"),a=r("ab1f"),i=function(){function e(t,r){var a=this;Object(n["a"])(this,e),this.file=t;var i=r.url,o=r.headers;for(var s in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",i,!0),this.xhr.responseType="text",o)this.xhr.setRequestHeader(s,o[s]);this.xhr.addEventListener("load",function(e){return a.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return a.requestDidError(e)})}return Object(a["a"])(e,[{key:"create",value:function(e){this.callback=e,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(e){var t=this.xhr,r=t.status,n=t.response;r>=200&&r<300?this.callback(null,n):this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error storing "'.concat(this.file.name,'". Status: ').concat(this.xhr.status))}}]),e}()},"6dcd":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:7}},[r("addNewBox",{attrs:{command:!e.ui.isModify},on:{refresh:e.refresh}})],1),e._v(" "),r("el-col",{attrs:{span:7}},[r("modifyBox",{attrs:{command:e.ui.isModify,"modify-term":e.modifyTerm},on:{modify_over:e.modify_over}})],1),e._v(" "),r("el-col",{attrs:{span:16}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.ui.gameRoundListVisiable,expression:"ui.gameRoundListVisiable"}],staticClass:"grid-content bg-purple-light"},[r("el-table",{attrs:{data:e.termList}},[r("el-table-column",{attrs:{label:"name",prop:"name"}}),e._v(" "),r("el-table-column",{attrs:{label:"alias",prop:"slug"}}),e._v(" "),r("el-table-column",{attrs:{label:"desc",prop:"desc"}}),e._v(" "),r("el-table-column",{attrs:{width:"180px",align:"center",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("parseTime")(t.row.created_at,"{y}-{m}-{d} {h}:{i}")))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"Actions",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(r){return e.modify(t.row)}}},[e._v("\n                编辑\n              ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"Actions",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(r){return e.remove(t.row)}}},[e._v("\n                删除\n              ")])]}}])})],1)],1)])],1)],1)},a=[],i=(r("63ff"),r("e71e")),o=r("d96b"),s=r("d4a4"),c=r("8a24"),u={name:"Authorize",components:{addNewBox:s["default"],modifyBox:c["default"]},data:function(){return{modifyTerm:0,company:{},authUrl:"",termList:[],gameRoundToModify:{},ui:{modifyBoxVisiable:!1,gameRoundListVisiable:!0,isModify:!1}}},watch:{},created:function(){var e=this;Object(o["o"])().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("res----:",r),e.termList=r;case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{refresh:function(){var e=this;Object(o["o"])().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("res----:",r),e.termList=r;case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},modify_over:function(){var e=this;this.ui.isModify=!1,Object(o["o"])().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("res----:",r),e.termList=r;case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},remove:function(e){var t=this;console.log("entry---:",e.id);var r={id:e.id};Object(o["D"])(r).then(function(e){Object(o["o"])().then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("res----:",r),t.termList=r;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})},modify:function(e){this.ui.isModify=!0,this.modifyTerm=e.id}}},l=u,f=(r("7750"),r("6691")),d=Object(f["a"])(l,n,a,!1,null,null,null);t["default"]=d.exports},7593:function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(i){return!1}}e.exports=s()?Object.assign:function(e,t){for(var r,s,c=o(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]),r)a.call(r,l)&&(c[l]=r[l]);if(n){s=n(r);for(var f=0;f<s.length;f++)i.call(r,s[f])&&(c[s[f]]=r[s[f]])}}return c}},7750:function(e,t,r){"use strict";var n=r("1c14"),a=r.n(n);a.a},"8a24":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addNewBox"},[r("el-form",{directives:[{name:"show",rawName:"v-show",value:e.command,expression:"command"}],ref:"form",attrs:{model:e.termData,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"分类名称"}},[r("el-input",{model:{value:e.termData.name,callback:function(t){e.$set(e.termData,"name",t)},expression:"termData.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"分类slug"}},[r("el-input",{model:{value:e.termData.slug,callback:function(t){e.$set(e.termData,"slug",t)},expression:"termData.slug"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"分类描述"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.termData.desc,callback:function(t){e.$set(e.termData,"desc",t)},expression:"termData.desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"分类"}},[r("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.termData.term,callback:function(t){e.$set(e.termData,"term",t)},expression:"termData.term"}},e._l(e.termList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.post_msg}},[e._v("保存")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)},a=[],i=(r("7364"),r("63ff"),r("e71e")),o=(r("cdad"),r("9e32"),r("debc"),r("d96b")),s=r("8256"),c=(r("b435"),{components:{Tinymce:s["a"]},props:{command:{default:!1},modifyTerm:0},data:function(){return{termList:[],game:{name:"",desc:"",duration:""},account:"",password:"",ui:{addNewBoxVisiable:!1},termData:{},termssss:""}},watch:{modifyTerm:function(e,t){var r=this;Object(o["o"])().then(function(t){if(console.log("res----:",t),r.termList=t,e>0){var n={id:e};Object(o["n"])(n).then(function(e){console.log("res---:",e),r.termData=e,r.termssss=r.termData.parent})}})}},created:function(){var e=this;Object(o["o"])().then(function(t){if(console.log("res----:",t),e.termList=t,o["w"]>0){var r={id:e.modifyTerm};Object(o["n"])(r).then(function(t){console.log("res---:",t),e.termData=t,e.termssss=e.termData.parent})}})},methods:{post_msg:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,s,c,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("========post_msg========"),t=!0,r=this.termData.name,n=this.termData.slug,a=this.termData.desc,s=this.termssss,t&&(c={id:this.termData.id,name:r,slug:n,desc:a,parent:s},console.log("data------:",c),Object(o["w"])(c).then(function(e){console.log("res----:",e),u.$emit("modify_over"),Object(o["o"])().then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("res----:",t),u.termList=t;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),u=c,l=r("6691"),f=Object(l["a"])(u,n,a,!1,null,null,null);t["default"]=f.exports},"9e32":function(e,t,r){"use strict";var n=r("c39e"),a=r("7593");function i(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function c(e){return Array.isArray(e)?e.sort():"object"===typeof e?c(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=a({arrayFormat:"none"},t);var r=o(t),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),r(decodeURIComponent(a),i,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=c(r):e[t]=r,e},Object.create(null))):n)},t.stringify=function(e,t){var r={encode:!0,strict:!0,arrayFormat:"none"};t=a(r,t);var n=i(t);return e?Object.keys(e).sort().map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return s(r,t);if(Array.isArray(a)){var i=[];return a.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return s(r,t)+"="+s(a,t)}).filter(function(e){return e.length>0}).join("&"):""}},b435:function(e,t,r){"use strict";var n=r("98d4"),a=r("ab1f"),i=r("0cf6"),o=r("601d"),s=(r("7364"),function(){function e(t,r,a,i){var o=this;Object(n["a"])(this,e),this.file=t,this.uploadExtrData=i,this.attributes={file_name:t.name,content_type:t.type,file_size:t.size,checksum:r},this.xhr=new XMLHttpRequest,this.xhr.open("POST",a,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.addEventListener("load",function(e){return o.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return o.requestDidError(e)})}return Object(a["a"])(e,[{key:"create",value:function(e){this.callback=e,console.log("this.uploadExtrData---:",this.uploadExtrData);var t=this.uploadExtrData,r=t.viewable_type,n=t.album_id;this.xhr.send(JSON.stringify({photo:this.attributes,viewable_type:r,album_id:n}))}},{key:"requestDidLoad",value:function(e){if(this.status>=200&&this.status<300){var t=this.response,r=t.directUploadData;delete t.directUploadData,this.attributes=t,this.directUploadData=r,this.callback(null,this.toJSON())}else this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error creating Blob for "'.concat(this.file.name,'". Status: ').concat(this.status))}},{key:"toJSON",value:function(){var e={};for(var t in this.attributes)e[t]=this.attributes[t];return e}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var e=this.xhr,t=e.responseType,r=e.response;return"json"===t?r:JSON.parse(r)}}]),e}()),c=0,u=function(){function e(t,r,a,i){Object(n["a"])(this,e),this.id=++c,this.file=t,this.url=r,this.delegate=a,this.uploadExtrData=i}return Object(a["a"])(e,[{key:"create",value:function(e){var t=this;i["a"].create(this.file,function(r,n){if(r)e(r);else{var a=new s(t.file,n,t.url,t.uploadExtrData);a.create(function(r){if(r)e(r);else{console.log("blob.create callback, blob = ",a);var n=new o["a"](t.file,a.directUploadData);l(t.delegate,"directUploadWillStoreFileWithXHR",n.xhr),n.create(function(t){t?e(t):e(null,a.toJSON())})}})}})}}]),e}();function l(e,t){if(e&&"function"===typeof e[t]){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return e[t].apply(e,n)}}r.d(t,"a",function(){return f});var f=function(){function e(t,r,a,i,o){Object(n["a"])(this,e),this.file=t,this.directupload=new u(t,r,this,a.data),this.uploaderOption=a,this.successCallback=i,this.failureCallback=o}return Object(a["a"])(e,[{key:"upload",value:function(){var e=this;console.log(" yes it is uploading "),this.directupload.create(function(t,r){t?(console.log("directupload",t),e.failureCallback&&e.failureCallback(t)):e.successCallback(r)})}},{key:"directUploadWillStoreFileWithXHR",value:function(e){var t=this;console.log("xhr request=",e),e.upload.addEventListener("progress",function(e){return t.directUploadDidProgress(e)})}},{key:"directUploadDidProgress",value:function(e){e.percent=e.loaded/e.total*100,console.log("directUploadDidProgress= ",e,this.file),this.uploaderOption.onProgress(e,this.file)}}]),e}()},c39e:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},d4a4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.command,expression:"command"}],staticClass:"addNewBox",staticStyle:{padding:"10px"}},[r("el-form",{ref:"form",attrs:{model:e.termData,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"名称"}},[r("el-input",{model:{value:e.termData.name,callback:function(t){e.$set(e.termData,"name",t)},expression:"termData.name"}})],1),e._v(" "),r("el-form-item",[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("别名\n        "),r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"“别名”是在URL中使用的别称，它可以令URL更美观。通常使用小写，只能包含字母，数字和连字符（-）。",placement:"bottom"}},[r("i",{staticClass:"el-icon-question"})])],1),e._v(" "),r("el-input",{attrs:{placeholder:"URL中使用的别称"},model:{value:e.termData.slug,callback:function(t){e.$set(e.termData,"slug",t)},expression:"termData.slug"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"描述"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.termData.desc,callback:function(t){e.$set(e.termData,"desc",t)},expression:"termData.desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"上级分类"}},[r("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.termData.term,callback:function(t){e.$set(e.termData,"term",t)},expression:"termData.term"}},e._l(e.termList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.post_msg}},[e._v("立即创建")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)},a=[],i=(r("7364"),r("63ff"),r("e71e")),o=r("cdad"),s=r.n(o),c=(r("debc"),r("9e32"),r("d96b")),u=r("8256"),l={components:{Tinymce:u["a"]},props:{command:{default:!1}},data:function(){return{albumData:{name:"",desc:"",Photos:[]},filelist:[],fileToDelete:[],termData:{name:"",slug:"",parent:null,desc:"",term:""},termList:[],account:"",password:""}},watch:{command:function(e,t){var r=this;Object(c["o"])().then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("res----:",t),r.termList=t;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},created:function(){var e=this;Object(c["o"])().then(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("res----:",r),e.termList=r;case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},methods:{post_msg:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var r,n,a,o,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("========post_msg========"),s.a.form.validate("#form",function(e){},{regexp:{VCODE:/^.{4}$/}}),r=!0,n=this.termData.name,a=this.termData.slug,o=this.termData.desc,u=this.termData.term,""===n&&(s.a.form.showErrorTips({ele:n,msg:"termData名不能为空"}),r=!1),r&&(l={name:n,slug:a,desc:o,parent:u},Object(c["c"])(l).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("res----:",t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),this.$emit("refresh"),this.termData={name:"",slug:"",parent:null,desc:"",term:""};case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},f=l,d=r("6691"),m=Object(d["a"])(f,n,a,!1,null,null,null);t["default"]=m.exports},e474:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"a",function(){return s});var n=r("7dfd"),a="/gapi/album",i=function(e,t){return Object(n["a"])(a+"/"+e+"/getPoster",t,"POST")},o=function(e,t){return Object(n["a"])(a+"/"+e+"/modifyPoster",t,"POST")},s=function(e,t){return Object(n["a"])(a+"/"+e+"/createDesc",t,"POST")}}}]);