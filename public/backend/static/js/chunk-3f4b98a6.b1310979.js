(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f4b98a6","chunk-ff611eb2"],{"0395":function(e,t){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){var t=0;while(0!==e)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},"09d6":function(e,t,n){var i=n("5bbc");function r(e,t){var n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(e,t,n){var i=e+t;return"undefined"!==typeof n&&(i+=" "+n),i}function a(e,t,n){for(var i="",r=0,a=!1,s=0,l=0;l<e.length;l++){var c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(i+=a?o("M",c+n,.5+u+n):o("m",r,0),r=0,a=!1),c+1<t&&e[l+1]||(i+=o("h",s),s=0)):r++}return i}t.render=function(e,t,n){var o=i.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,u=o.color.light.a?"<path "+r(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+r(o.color.dark,"stroke")+' d="'+a(l,s,o.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',f=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",m='<svg xmlns="http://www.w3.org/2000/svg" '+f+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"===typeof n&&n(null,m),m}},"0cf6":function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("7364");var i=n("98d4"),r=n("ab1f"),o=n("b0db"),a=n.n(o),s=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,l=function(){function e(t){Object(i["a"])(this,e),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return Object(r["a"])(e,null,[{key:"create",value:function(t,n){var i=new e(t);i.create(n)}}]),Object(r["a"])(e,[{key:"create",value:function(e){var t=this;this.callback=e,this.md5Buffer=new a.a.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(e){return t.fileReaderDidLoad(e)}),this.fileReader.addEventListener("error",function(e){return t.fileReaderDidError(e)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){var t=this.md5Buffer.end(!0),n=btoa(t);this.callback(null,n)}}},{key:"fileReaderDidError",value:function(e){this.callback("Error reading ".concat(this.file.name))}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||0===this.chunkIndex&&0===this.chunkCount){var e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),n=s.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),e}()},"0fe8":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-wrap"},[n("el-steps",{attrs:{active:e.activeStep,simple:"","process-state":"success"}},[n("el-step",{class:{active:1==e.activeStep},attrs:{status:"wait"},nativeOn:{click:function(t){return e.handleStepClick(1)}}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 活动设置")])]),e._v(" "),n("el-step",{class:{active:2==e.activeStep},attrs:{status:"wait"},nativeOn:{click:function(t){return e.handleStepClick(2)}}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 通用设置")])]),e._v(" "),n("el-step",{class:{active:3==e.activeStep},attrs:{status:"wait"},nativeOn:{click:function(t){return e.handleStepClick(3)}}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 选手管理")])]),e._v(" "),n("el-step",{class:{active:4==e.activeStep},attrs:{status:"wait"},nativeOn:{click:function(t){return e.handleStepClick(4)}}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(" 投票设置")])])],1),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"preview-wrap"},[n("Preview",{attrs:{"game-round":e.gameRound,command:e.previewCommnad},on:{"update:command":function(t){e.previewCommnad=t}}})],1),e._v(" "),n("div",{staticClass:"setup-wrap"},[n("RoundForm",{directives:[{name:"show",rawName:"v-show",value:1==e.activeStep,expression:"activeStep==1"}],attrs:{"game-round":e.gameRound}}),e._v(" "),n("GeneralForm",{directives:[{name:"show",rawName:"v-show",value:2==e.activeStep,expression:"activeStep==2"}],attrs:{"game-round":e.gameRound},on:{changed:e.onChanged}}),e._v(" "),n("PlayersForm",{directives:[{name:"show",rawName:"v-show",value:3==e.activeStep,expression:"activeStep==3"}],attrs:{"game-round":e.gameRound},on:{changed:e.onChanged}}),e._v(" "),n("VoteForm",{directives:[{name:"show",rawName:"v-show",value:4==e.activeStep,expression:"activeStep==4"}],attrs:{"game-round":e.gameRound},on:{changed:e.onChanged}})],1)])],1)},r=[],o=(n("f763"),n("7364"),n("63ff"),n("e71e")),a=n("cdad"),s=n.n(a),l=n("debc"),c=n.n(l),u=n("0cf6"),d=n("601d"),h=n("d96b"),f=n("e474"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{staticClass:"round-general-wrap",attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"页面设置",name:"first"}},[n("div",[n("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"配色方案"}},[n("ul",{staticClass:"color-ul"},e._l(e.predefineColors,function(t){return n("li",{staticClass:"cursor",style:{backgroundColor:t},on:{click:function(n){return e.onColorChanged(t)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t==e.formData.color,expression:"color==formData.color"}],staticClass:"el-icon-check"})])}),0),e._v(" "),n("CustomColorPicker",{staticClass:"custom-color-picker",attrs:{value:e.formData.color},on:{change:e.onColorChanged}})],1)],1)],1)]),e._v(" "),n("el-tab-pane",{attrs:{label:"轮播图设置",name:"second"}},[n("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"海报图片"}},[n("div",{staticClass:"images-wrap"},[e._l(e.slides,function(t){return n("div",{key:t.id,staticClass:"image-item"},[n("el-popover",{attrs:{placement:"bottom-start",width:"360",trigger:"hover"},on:{show:function(n){return e.handlePopoverShow(t.id)},hide:function(t){return e.handlePopoverShow(0)}}},[n("div",[n("el-form",{ref:"form",refInFor:!0,attrs:{model:e.formData,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"跳转网址"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.formData.slideUrl,callback:function(t){e.$set(e.formData,"slideUrl",t)},expression:"formData.slideUrl"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"image-wrap",attrs:{slot:"reference"},slot:"reference"},[n("el-image",{staticStyle:{width:"295px",height:"100%"},attrs:{src:t.url,fit:"contain"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hoveringImageId==t.id,expression:"hoveringImageId == slide.id"}],staticClass:"options-wrap"},[n("div",{staticClass:"cover"}),e._v(" "),n("div",{staticClass:"replace-btn"},[n("div",{staticClass:"delete-btn",on:{click:function(n){return e.deletePhoto(t.id)}}},[n("el-button",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-delete"})])],1),e._v(" "),n("el-button",{staticClass:"add-btn",attrs:{type:"text"},on:{click:function(n){return e.handleChangeSlideBrowser(t)}}},[e._v(" 替换图片 ")])],1)])],1)])],1)}),e._v(" "),n("div",{staticClass:"image-item new-image-wrap"},[n("el-image",{staticStyle:{width:"295px",height:"100%"}},[n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-picture-outline"}),e._v(" "),n("div",[n("el-button",{attrs:{type:"text"},on:{click:e.handleOpenImageBrowser}},[e._v(" 添加图片 ")])],1)])])],1)],2)])],1),e._v(" "),n("ImageBrowser",{attrs:{"viewable-type":e.viewableType,"dialog-visible":e.imageBrowserVisible},on:{"update:dialogVisible":function(t){e.imageBrowserVisible=t},"update:dialog-visible":function(t){e.imageBrowserVisible=t},selected:e.handleImageSelected}}),e._v(" "),n("ChangeSlideBrowser",{attrs:{"viewable-type":e.viewableType,"slide-to-change":e.slideToChange,"dialog-visible":e.ChangeSlideBrowserVisible},on:{"update:dialogVisible":function(t){e.ChangeSlideBrowserVisible=t},"update:dialog-visible":function(t){e.ChangeSlideBrowserVisible=t},changSlide:e.changSlide}})],1),e._v(" "),n("el-tab-pane",{attrs:{label:"活动介绍",name:"third"}},[n("el-form",{attrs:{model:e.formData,"label-width":"80px"}},[n("Tinymce",{ref:"editor",attrs:{height:400,"game-round":e.gameRound,menubar:e.tinyMenubar,toolbar:e.tinyToolbar},model:{value:e.formData.desc,callback:function(t){e.$set(e.formData,"desc",t)},expression:"formData.desc"}})],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1),e._v(" "),n("el-tab-pane",{attrs:{label:"活动动态",name:"fourth"}},[e._v("活动动态")])],1)},p=[],g=n("873c"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),n("div",{staticClass:"editor-custom-btn-container"},[n("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff","game-round":e.gameRound},on:{successCBK:e.imageSuccessCBK}})],1)])},b=[],w=(n("d4d5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n    upload\n  ")]),e._v(" "),n("ImgUpload",{attrs:{"viewable-type":e.viewableType,"dialog-visible":e.dialogVisible},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},selected:e.handleImageSelected}})],1)}),y=[],_=(n("fb37"),n("9f04")),C={name:"EditorSlideUpload",components:{ImgUpload:_["a"]},props:{color:{type:String,default:"#1890ff"},gameRound:{type:Object}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],viewableType:"desc"}},methods:{handleImageSelected:function(e){var t=this,n=Object(g["a"])(e.selectedImages),i=n[0];if(i){var r={round_id:this.gameRound.id,newImg:i};Object(h["d"])(r).then(function(e){t.imageBrowserVisible=!1,t.$emit("successCBK",i)})}},checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(console.log("arr======:",t),this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){for(var n=t.uid,i=Object.keys(this.listObj),r=0,o=i.length;r<o;r++)if(this.listObj[i[r]].uid===n)return void(this.listObj[i[r]].hasSuccess=!0)},handleRemove:function(e){console.log("file----------:",e);for(var t=e.uid,n=Object.keys(this.listObj),i=0,r=n.length;i<r;i++)if(this.listObj[n[i]].uid===t)return void delete this.listObj[n[i]]},notify:function(e,t){if(e&&"function"===typeof e[t]){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return e[t].apply(e,i)}},beforeUpload:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("file----------:",t),n={},n.okey="okey",n.file_name=t.name,n.content_type=t.type,n.file_size=t.size,e.next=8,u["a"].create(t,function(e,r){if(!e){n.checksum=r,console.log("photo----:",n);var o=i.gameRound.number,a={code:"ztoupiao",photo:n};Object(f["a"])(o,a).then(function(e){var n=e.directUploadData;console.log("directUploadData-----:",n);var r=new d["a"](t,n);i.notify(null,"directUploadWillStoreFileWithXHR",r.xhr),r.create(function(e){if(!e){var r=i,o=t.uid;return i.listObj[o]={},new Promise(function(e,i){var a=new Image;a.src=n.url,console.log("img.src----:",a.src),a.onload=function(){r.listObj[o]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height,url:n.url}},e(!0)})}})})}});case 8:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},R=C,S=(n("a952"),n("6691")),k=Object(S["a"])(R,w,y,!1,null,"9a61168c",null),E=k.exports,x=n("9a18"),D=n("ea1b"),P=n("2498"),T="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",A={name:"Tinymce",components:{editorImage:E},props:{gameRound:{type:Object},id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;Object(P["a"])(T,function(t){t?e.$message.error(t.message):e.initTinymce()})},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["en"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:D["a"],menubar:this.menubar,plugins:x["a"],end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",n.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){console.log("arr-----:",e);var t=this;window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}}},I=A,B=(n("d023"),Object(S["a"])(I,v,b,!1,null,"6003fb94",null)),U=B.exports,O=n("b435"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"elx-imgbox",attrs:{id:"elx-imgbox",title:"我的图片",visible:e.computedVisible,open:e.onOpen,top:"5vh","before-close":e.handleCloseDialog}},[n("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-tab-pane",{staticClass:"pick-block",attrs:{label:"选择图片",name:"pick"}},[e.isLoading?n("div",{staticClass:"img-list-loading"},[n("div",{staticClass:"el-icon-loading"})]):e._e(),e._v(" "),n("div",{staticClass:"elx-main img-list"},e._l(e.imgRes.list,function(t,i){return n("div",{staticClass:"img-item",on:{click:function(n){return e.handleSelectImage(t)}}},[n("div",{staticClass:"thumb-wp"},[n("img",{attrs:{src:t.thumb,alt:"img.name"}})]),e._v(" "),n("div",{staticClass:"title"},[e._v(e._s(t.name))]),e._v(" "),t.label?n("div",{staticClass:"label"},[e._v(e._s(t.label))]):e._e(),e._v(" "),t.selected?n("span",{staticClass:"selected"},[n("span",{staticClass:"icon el-icon-check"})]):e._e()])}),0),e._v(" "),n("el-pagination",{attrs:{layout:"total, prev, pager, next",total:e.imgRes.total},on:{"current-change":e.handlePageChange}}),e._v(" "),n("div",{staticClass:"elx-foot"},[n("el-badge",{staticClass:"item",attrs:{value:e.selectedImgCount}},[n("el-button",{attrs:{type:"primary",size:"medium",disabled:0==e.selectedImgCount},on:{click:e.handleConfirmSelect}},[e._v("确定选择")])],1),e._v(" "),e.options.enableUpload?n("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(t){e.activeTab="upload"}}},[e._v("上传图片")]):e._e(),e._v(" "),e.options.multiple?n("el-button",{attrs:{type:"text"},on:{click:e.handleCancelAll}},[e._v("取消已选")]):e._e()],1)],1),e._v(" "),e.options.enableUpload?n("el-tab-pane",{staticClass:"upload-block",attrs:{label:"上传图片",name:"upload"}},[n("div",{staticClass:"elx-main"},[n("div",{staticClass:"upload-title"},[e._v("请选择本地图片上传：")]),e._v(" "),n("el-upload",{ref:"upload",staticClass:"upload-img-preview",attrs:{"list-type":"picture-card",accept:"image/*",action:e.options.uploadUrl,"auto-upload":!1,multiple:e.options.multiple,limit:e.options.limit,data:e.uploadData,"http-request":e.handleUpload,"before-upload":e.beforeUpload,"on-progress":e.handleOnProgress,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"on-exceed":e.onExceedTip}},[n("i",{staticClass:"el-icon-plus"})]),e._v(" "),n("div",{staticClass:"upload-tip"},[e._v("仅支持jpg、gif、png三种格式, 大小不超过2 MB")]),e._v(" "),n("div",{staticClass:"elx-foot"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleConfirmUpload}},[e._v("确定上传")])],1)],1)]):e._e()],1)],1)},j=[],F=n("51be"),L={name:"BetterImgbox",props:{dialogVisible:{type:Boolean},listUrl:{type:String},viewableType:{type:String}},data:function(){return{newImg:{},options:{uploadUrl:"",listUrl:"",multiple:!1,limit:1,onSelect:null,enableUpload:!0,maxSize:2},listQuery:{page:1,limit:20},isLoading:!0,activeTab:"pick",uploadSuccessCount:0,selectedImgCount:0,fixThumbInterval:null,imgRes:{list:[],total:0},uploadData:{viewable_type:"silde"}}},computed:{computedVisible:function(){return this.dialogVisible}},mounted:function(){this.loadImgList()},methods:{onOpen:function(){console.log("this.viewableType---:",this.viewableType),this.listQuery.q.viewable_type=this.viewableType},handleSelectImage:function(e){if(e.selected)e.selected=!1;else{if(this.options.limit>0&&this.selectedImgCount>=this.options.limit)return void this.$message({message:"最多只能选择"+this.options.limit+"张图片",type:"warning"});this.options.multiple||this.handleCancelAll(),e.selected=!0,this.newImg=e}this.selectedImgCount=this.imgRes.list.filter(function(e){return e.selected}).length},loadImgList:function(){var e=this;this.isLoading=!0,this.handleCancelAll(),Object(h["E"])(this.listQuery).then(function(t){var n=[];console.log("loadImgList....",t),e.imgRes.total=parseInt(t.total),t.photos.forEach(function(e){var t={id:e.id,url:e.previewUrl,name:e.file_name,thumb:e.previewUrl,label:"lable",selected:!1};n.push(t)}),e.imgRes.list=n,e.isLoading=!1})},handlePageChange:function(e){this.listQuery.page=e,this.loadImgList()},handleCancelAll:function(){for(var e in this.imgRes.list)this.imgRes.list[e].selected=!1},handleConfirmSelect:function(){console.log("handleConfirmUpload=========="),this.$emit("changSlide",this.newImg)},handleConfirmUpload:function(){this.$refs.upload.submit()},handleOnProgress:function(e,t,n){},handleOnChange:function(e,t){},beforeUpload:function(e){var t="image/jpeg"===e.type,n="image/png"===e.type,i="image/gif"===e.type,r=e.size/1048576<this.options.maxSize;return t||n||i?!!r||(this.$alert("上传图片大小不能超过 "+this.options.maxSize+"M"),!1):(this.$alert("仅支持 JPG/PNG/GIF 3种格式"),!1)},handleUploadError:function(e,t,n){this.$prompt("服务器打了个盹^_^"),console.log(e)},handleUploadSuccess:function(e,t,n){this.uploadSuccessCount++,n.length===this.uploadSuccessCount&&this.reset()},onExceedTip:function(){this.$alert("最多只能选择"+this.options.limit+"张图片")},handleUpload:function(e){var t=e.file,n=F["directUploadUrl"]+"?token="+this.$store.getters.token;console.log("handleDirectUpload option= ",e,n);var i=new O["a"](t,n,e,function(t){e.onSuccess(null,e.file)});console.log("uploader=",i),i.upload()},reset:function(){"undefined"!==typeof this.$refs.upload&&this.$refs.upload.clearFiles(),this.uploadSuccessCount=0,this.handlePageChange(1),this.activeTab="pick"},handleCloseDialog:function(){this.$emit("update:dialogVisible",!1)}}},M=L,$=(n("3bca"),Object(S["a"])(M,N,j,!1,null,null,null)),z=$.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],class:["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?"el-color-picker--"+e.colorSize:""]},[e.colorDisabled?n("div",{staticClass:"el-color-picker__mask"}):e._e(),e._v(" "),n("div",{staticClass:"el-color-picker__trigger",on:{click:e.handleTrigger}},[n("span",{staticClass:"el-color-picker__color",class:{"is-alpha":e.showAlpha}},[n("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:e.displayedColor}}),e._v(" "),e.value||e.showPanelColor?e._e():n("span",{staticClass:"el-color-picker__empty el-icon-close"})]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.value||e.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon "},[e._v("自定义")])]),e._v(" "),n("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",e.popperClass||""],attrs:{color:e.color,"show-alpha":e.showAlpha,predefine:e.predefine},on:{pick:e.confirmValue,clear:e.clearValue},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)},q=[],Y=n("5565"),H=n("b389"),J=n("3cec"),K=n("e5d8"),Q={name:"ElColorPicker",mixins:[K["a"]],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:J["a"]},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){e?e&&e!==this.color.value&&this.color.fromString(e):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(e){if(this.showPicker){var t=new Y["a"]({enableAlpha:this.showAlpha,format:this.colorFormat});t.fromString(this.value);var n=this.displayedRgb(t,this.showAlpha);e!==n&&this.$emit("active-change",e)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var e=this.color.value;this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var e=this;this.$nextTick(function(t){e.value?e.color.fromString(e.value):e.showPanelColor=!1})},displayedRgb:function(e,t){if(!(e instanceof Y["a"]))throw Error("color should be instance of Color Class");var n=e.toRgb(),i=n.r,r=n.g,o=n.b;return t?"rgba(".concat(i,", ").concat(r,", ").concat(o,", ").concat(e.get("alpha")/100,")"):"rgb(".concat(i,", ").concat(r,", ").concat(o,")")}},mounted:function(){var e=this.value;e&&this.color.fromString(e),this.popperElm=this.$refs.dropdown.$el},data:function(){var e=new Y["a"]({enableAlpha:this.showAlpha,format:this.colorFormat});return{color:e,showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:H["a"]}},G=Q,W=Object(S["a"])(G,V,q,!1,null,null,null),X=W.exports;function Z(e,t){return t=t||"w600","".concat(e,"?x-oss-process=style/").concat(t)}var ee="/api/backend/photos/ztoupiao/create",te={name:"GameRoundGeneralForm",components:{Tinymce:U,ImageBrowser:_["a"],ChangeSlideBrowser:z,CustomColorPicker:X},props:{gameRound:{type:Object,default:function(){}}},data:function(){return{viewableType:"slide",newUploads:[],tinyMenubar:"",tinyToolbar:F["tiny"].toolbar,imageBrowserVisible:!1,ChangeSlideBrowserVisible:!1,activeName:"first",postersData:[],formData:{color:"#409EFF"},predefineColors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],hoveringImageId:0,dialogImageUrl:null,dialogVisible:!1,slideToChange:{}}},computed:{slides:function(){return console.log("this.gameRound-----:",this.gameRound),this.gameRound.Slides?this.gameRound.Slides.map(function(e){return{id:e.id,url:Z(e.originalUrl),file_name:e.file_name}}):[]}},watch:{gameRound:"initData"},created:function(){},mounted:function(){},methods:{onSubmit:function(){var e=this;Object(h["G"])(this.gameRound.id,{gameRound:{desc:this.formData.desc}}).then(function(t){e.$emit("changed",t)})},changSlide:function(e){var t=this;console.log("slideToChange",this.slideToChange),console.log("new Slide---:",e);var n={round_id:this.gameRound.id,newImg:e};Object(h["d"])(n).then(function(e){t.deletePhoto(t.slideToChange.id),t.ChangeSlideBrowserVisible=!1})},refresh:function(){this.$emit("changed")},handleDirectUpload:function(e){var t=e.file,n=ee+"?token="+this.$store.getters.token;console.log("handleDirectUpload option= ",e,n);var i=new O["a"](t,n,e,function(e){});console.log("uploader=",i),i.upload(),this.deletePhoto(e.data.id),this.refresh()},handleUploadSuccess:function(e,t,n){console.log(e,t,n)},deletePhoto:function(e){var t=this;console.log("deletePhoto-----:",e);var n={photo_id:e,round_id:this.gameRound.id};Object(h["C"])(n).then(function(e){t.refresh()})},initData:function(){Object.assign(this.formData,this.gameRound)},handleClick:function(e,t){console.log(e,t)},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)},handleOpenImageBrowser:function(){this.imageBrowserVisible=!0},handleChangeSlideBrowser:function(e){this.slideToChange=e,this.ChangeSlideBrowserVisible=!0},handlePopoverShow:function(e){this.hoveringImageId=e},handleImageSelected:function(e){var t=this,n=Object(g["a"])(e.selectedImages),i=n[0];if(i){var r={round_id:this.gameRound.id,newImg:i};Object(h["d"])(r).then(function(e){t.imageBrowserVisible=!1,t.refresh()})}},onColorChanged:function(e){var t=this;console.log("newColor",e),Object(h["G"])(this.gameRound.id,{gameRound:{color:e}}).then(function(n){t.formData.color=e,t.$emit("changed",n)})}}},ne=te,ie=(n("e52d"),Object(S["a"])(ne,m,p,!1,null,null,null)),re=ie.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"活动名称"}},[n("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"投票时间"}},[n("el-date-picker",{attrs:{type:"daterange","unlink-panels":e.unlink,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.formData.time,callback:function(t){e.$set(e.formData,"time",t)},expression:"formData.time"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"关闭活动"}},[n("el-switch",{model:{value:e.gameStateDisabled,callback:function(t){e.gameStateDisabled=t},expression:"gameStateDisabled"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},ae=[],se={name:"RoundForm",props:{gameRound:{type:Object,default:function(){}}},data:function(){return{gameStateDisabled:!1,unlink:!0,formData:{name:"",time:""}}},watch:{gameRound:"initData"},created:function(){},mounted:function(){},methods:{initData:function(){null!=this.gameRound&&("disabled"==this.gameRound.state&&(this.gameStateDisabled=!0),Object.assign(this.formData,this.gameRound),this.gameRound.start_at&&this.gameRound.end_at&&(this.formData.time=[this.gameRound.start_at,this.gameRound.end_at]))},onSubmit:function(){console.log("formData.time---:",this.formData.time);var e="created";if(0==this.gameStateDisabled){var t=new Date;e=t<this.gameRound.start_at?"created":t>this.gameRound.end_at?"completed":"started"}else e="disabled";Object(h["G"])(this.gameRound.id,{gameRound:{name:this.formData.name,start_at:this.formData.time[0],end_at:this.formData.time[1],state:e}}).then(function(e){console.log("res====:",e)})}}},le=se,ce=Object(S["a"])(le,oe,ae,!1,null,"29ddba9f",null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview-wrap"},[n("div",{staticClass:"iframe-wrap"},[n("iframe",{ref:"iframe",attrs:{id:"iframe",src:e.previewUrl}})]),e._v(" "),n("div",{staticClass:"actions"},[n("el-button",{on:{click:e.handleRefresh}},[e._v(" 刷新 ")]),e._v(" "),n("el-button",{on:{click:e.showUrlDialog}},[e._v(" 手机预览 ")])],1),e._v(" "),n("el-dialog",{attrs:{title:"活动地址",visible:e.dialogUrlVisible},on:{"update:visible":function(t){e.dialogUrlVisible=t}}},[n("p",[e._v(e._s(e.gameUrl)+" ")]),e._v(" "),n("img",{staticStyle:{margin:"0 auto"},attrs:{id:"share-qrcode-img",src:e.gameQrcodeSrc}})])],1)},he=[],fe=n("a90a"),me=n.n(fe),pe={name:"GameRoundPreviewForm",props:{command:{type:String},gameRound:{type:Object,default:function(){}}},data:function(){return{dialogUrlVisible:!1,gameUrl:null,formData:{},gameQrcodeSrc:null}},computed:{previewUrl:function(){return this.gameRound.number&&this.gameRound.code?"".concat(F["basePreviewUrl"],"/").concat(this.gameRound.code,".html?number=").concat(this.gameRound.number,"&preview=yes"):""}},watch:{gameRound:"initData",command:function(e,t){console.log("val, oldVal=",e,t),"refresh"===e&&this.handleRefresh()}},created:function(){},mounted:function(){},methods:{initData:function(){this.gameRound&&Object.assign(this.formData,this.gameRound)},handleRefresh:function(){console.log("this.$refs.iframe=",this.$refs.iframe),this.$refs.iframe.src=this.previewUrl,this.$emit("update:command","void")},showUrlDialog:function(){var e=this,t=this.gameRound.number;this.gameUrl="http://testwx.natapp4.cc/game/ztoupiao/"+t+"/entry",me.a.toDataURL(this.gameUrl,{type:"image/png"},function(t,n){t&&console.error(t),e.gameQrcodeSrc=n,e.dialogUrlVisible=!0})}}},ge=pe,ve=(n("e672"),Object(S["a"])(ge,de,he,!1,null,"4f82fb12",null)),be=ve.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{staticClass:"round-general-wrap",attrs:{type:"card"}},[n("el-tab-pane",{attrs:{label:"分组列表",name:"first"}},[n("div",[e._v("\n        选手是否需要分组？\n      ")])]),e._v(" "),n("el-tab-pane",{attrs:{label:"选手列表",name:"second"}},[n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.albumList,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"thumb",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-image",{attrs:{src:e.row.Photos[0].thumbUrl,fit:"contain"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"name",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"type",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.type))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"action",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.deleteAlbum(t.row)}}},[e._v("删除")])]}}])})],1)],1)]),e._v(" "),n("el-tab-pane",{attrs:{label:"新建选手",name:"third"}},[n("AlbumForm",{attrs:{"game-round":e.gameRound},on:{onchange:e.onchange}})],1)],1)],1)},ye=[],_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addNewBox"},[n("el-form",{ref:"albumForm",attrs:{model:e.albumForm,"label-width":"80px"}},[n("div",{staticClass:"form-main-container"},[n("el-form-item",{attrs:{label:"作品名称"}},[n("el-input",{model:{value:e.albumForm.name,callback:function(t){e.$set(e.albumForm,"name",t)},expression:"albumForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"作品说明"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.albumForm.desc,callback:function(t){e.$set(e.albumForm,"desc",t)},expression:"albumForm.desc"}})],1),e._v(" "),n("el-form-item",[n("el-upload",{ref:"upload",staticClass:"upload-img-preview",attrs:{"list-type":"picture-card",accept:"image/*",action:e.options.uploadUrl,"auto-upload":!1,multiple:e.options.multiple,limit:e.options.limit,data:e.uploadData,"http-request":e.handleUpload,"before-upload":e.beforeUpload,"on-progress":e.handleOnProgress,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[n("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)])],1)},Ce=[],Re={components:{},props:{command:{default:!1},gameRound:{type:Object,default:function(){}}},data:function(){return{albumForm:{},uploadData:{viewable_type:"photo"},options:{uploadUrl:"",listUrl:"",multiple:!1,limit:10,onSelect:null,enableUpload:!0,maxSize:2},listQuery:{q:{viewable_type:"slide"},page:1,limit:20}}},watch:{command:function(e,t){console.log("watch-command new: %s, old: %s",e,t),!0===e?console.log("show"):console.log("hide")},gameRound:function(e,t){this.albumForm={},this.$refs.upload.clearFiles()}},created:function(){},methods:{onSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("========onSubmit========"),console.log("albumForm---:",this.albumForm),n={code:this.gameRound.code,player:{openid:"Super Admin",game_round_id:this.gameRound.id,nickname:"admin",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif"},album:{name:this.albumForm.name,desc:this.albumForm.desc,game_round_id:this.gameRound.id,type:"backend"}},Object(h["f"])(n).then(function(e){console.log("res--:",e);var t=e.id;i.uploadData.album_id=t,i.$refs.upload.submit()});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleUpload:function(e){console.log("option---:",e);var t=e.file,n=F["directUploadUrl"]+"?token="+this.$store.getters.token;console.log("handleDirectUpload option= ",e,n);var i=new O["a"](t,n,e,function(t){e.onSuccess(null,e.file)});console.log("uploader=",i),i.upload()},beforeUpload:function(e){var t="image/jpeg"===e.type,n="image/png"===e.type,i="image/gif"===e.type,r=e.size/1048576<this.options.maxSize;return t||n||i?!!r||(this.$alert("上传图片大小不能超过 "+this.options.maxSize+"M"),!1):(this.$alert("仅支持 JPG/PNG/GIF 3种格式"),!1)},handleOnProgress:function(e,t,n){},handleUploadError:function(e,t,n){this.$prompt("服务器打了个盹^_^"),console.log(e)},handleOnChange:function(e,t){},handleUploadSuccess:function(e,t,n){console.log("===========================handleUploadSuccess==========================="),this.uploadSuccessCount++,this.$emit("onchange"),n.length===this.uploadSuccessCount&&this.reset()}}},Se=Re,ke=Object(S["a"])(Se,_e,Ce,!1,null,"75def655",null),Ee=ke.exports,xe={name:"PlayersForm",components:{AlbumForm:Ee},activeName:"first",props:{gameRound:{type:Object,default:function(){}}},data:function(){return{unlink:!0,formData:{name:"",time:""},listQuery:{q:{},page:1,limit:20},albumList:[]}},watch:{gameRound:"initData"},created:function(){},mounted:function(){},methods:{onchange:function(){this.$emit("changed")},initData:function(){var e=this;if(null!=this.gameRound){this.listQuery.q.game_round_id=this.gameRound.id;var t={code:this.gameRound.code,listQuery:this.listQuery};Object(h["h"])(t).then(function(t){e.albumList=t.albums})}},deleteAlbum:function(e){var t=this,n={code:this.gameRound.code,album:e};Object(h["x"])(n).then(function(e){t.onchange(),console.log("res===:",e)})}}},De=xe,Pe=Object(S["a"])(De,we,ye,!1,null,"418ab044",null),Te=Pe.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",[e._v("投票次数设置:")]),n("br"),e._v(" "),n("div",{staticClass:"actions"},[n("el-radio",{attrs:{label:"sum"},model:{value:e.voteStyle,callback:function(t){e.voteStyle=t},expression:"voteStyle"}},[e._v("活动期间n次")]),e._v(" "),n("el-radio",{attrs:{label:"times"},model:{value:e.voteStyle,callback:function(t){e.voteStyle=t},expression:"voteStyle"}},[e._v("周期次数")])],1),e._v(" "),n("el-form",{directives:[{name:"show",rawName:"v-show",value:"sum"==e.voteStyle,expression:"voteStyle=='sum'"}],ref:"formData",attrs:{model:e.formData,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"活动期间共","label-width":"100px"}},[n("el-input",{staticStyle:{width:"80px"},model:{value:e.formData.sum,callback:function(t){e.$set(e.formData,"sum",t)},expression:"formData.sum"}}),e._v("次\n    ")],1)],1),e._v(" "),n("el-form",{directives:[{name:"show",rawName:"v-show",value:"times"==e.voteStyle,expression:"voteStyle=='times'"}],staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formData}},[n("el-form-item",{attrs:{label:"每"}},[n("el-input",{staticStyle:{width:"80px"},model:{value:e.formData.day,callback:function(t){e.$set(e.formData,"day",t)},expression:"formData.day"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"天"}},[n("el-input",{staticStyle:{width:"80px"},model:{value:e.formData.times,callback:function(t){e.$set(e.formData,"times",t)},expression:"formData.times"}})],1),e._v("次\n  ")],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)},Ie=[],Be={name:"GameRoundPreviewForm",props:{command:{type:String},gameRound:{type:Object,default:function(){}}},data:function(){return{voteStyle:"sum",dialogUrlVisible:!1,gameUrl:null,gameQrcodeSrc:null,formData:{sum:1,day:1,times:1}}},computed:{},watch:{gameRound:"initData",command:function(e,t){console.log("val, oldVal=",e,t),"refresh"===e&&this.handleRefresh()}},created:function(){},mounted:function(){},methods:{initData:function(){var e=this;Object(h["q"])(this.gameRound.id).then(function(t){console.log("getVoteStyle---:",t),e.formData=t,e.voteStyle=t.style})},handleRefresh:function(){this.$emit("update:command","void")},onSubmit:function(){console.log("==========onSubmit==========");var e=this.formData;e.game_round_id=this.gameRound.id,e.style=this.voteStyle;var t={code:this.gameRound.code,game_round_id:this.gameRound.id,voteStyleData:e};Object(h["F"])(t).then(function(e){console.log("res----:",e)})}}},Ue=Be,Oe=(n("95f7"),Object(S["a"])(Ue,Ae,Ie,!1,null,"27a367d6",null)),Ne=Oe.exports,je={components:{Preview:be,GeneralForm:re,RoundForm:ue,PlayersForm:Te,VoteForm:Ne},props:{},data:function(){return{gameRound:{},activeStep:1,activeName:"second",filelist:[],newfileToDelete:[],oldfileToDelete:[],game:{name:"",desc:"",duration:""},postersData:[],account:"",password:"",formData:{name:"",desc:""},previewCommnad:"void"}},watch:{$route:"initData"},created:function(){this.initData()},methods:{refresh:function(){console.log("edit refresh"),this.initData()},initData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["j"])(this.$route.params.id);case 2:this.gameRound=e.sent,Object.assign(this.formData,this.gameRound);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e,t){console.log(e,t)},readyToRemove:function(e){console.log("==========readyToRemove=========="),this.newfileToDelete.push(e.originalUrl),void 0!==e.okey&&this.oldfileToDelete.push(e);for(var t=0;t<this.postersData.length;t++)if(this.postersData[t].originalUrl===e.originalUrl){this.postersData.splice(t,1);break}},readyToModify:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,i,r,a,l,c,m,p,g=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("========readyToModify========"),t=this.filelist,console.log("files----:",t),n=!0,i=this.formData.name,r=this.formData.desc,a=this.formData.duration,""===i&&(s.a.form.showErrorTips({ele:i,msg:"姓名不能为空"}),n=!1),""===r&&(console.log("作品描述不能为空"),s.a.form.showErrorTips({ele:r,msg:"作品描述不能为空"}),n=!1),!n){e.next=20;break}return l=this.gameRound.number,c=this.gameRound.code,console.log("this.gameRound",this.gameRound),m=[],console.log("files---:",t),console.log("photos---:",m),console.log("this.newfileToDelete---:",this.newfileToDelete),p=new Promise(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(n,o){var s,d,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o={},!(g.newfileToDelete.indexOf(t[d].src)>-1)){e.next=3;break}return e.abrupt("return","continue");case 3:return o.okey="okey",o.file_name=t[d].name,o.content_type=t[d].type,o.file_size=t[d].size,e.next=9,u["a"].create(t[d],function(e,s){if(!e&&(o.checksum=s,m.push(o),console.log(" photos.length:",m.length,"files.length:",t.length),m.length===t.length)){console.log("========resolve=======");var u={name:i,desc:r,duration:a,code:c,number:l,photos:m,photosToDelete:g.oldfileToDelete};n(u)}});case 9:case"end":return e.stop()}},e)}),d=0;case 2:if(!(d<t.length)){e.next=10;break}return e.delegateYield(s(),"t0",4);case 4:if(h=e.t0,"continue"!==h){e.next=7;break}return e.abrupt("continue",7);case 7:d++,e.next=2;break;case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),e.next=20,p.then(function(e){console.log("data------:",e),Object(h["u"])(e).then(function(e){g.$emit("signUpOver",e),g.statusBox=!1}),Object(f["c"])(l,e).then(function(e){console.log("res========:",e);var n=e.directUploadData;console.log("directUploadData----:",n);for(var i=0;i<n.length;i++){var r=n[i].url,o=n[i].headers;console.log("url---:",r),console.log("headers----:",o);var a=new d["a"](t[i],n[i]);g.notify(null,"directUploadWillStoreFileWithXHR",a.xhr),a.create(function(e){e?console.log("error---:",e):(console.log("emit modify_over"),g.$emit("modify_over"))})}})});case 20:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),showAlbum:function(){var e=this;console.log("=============================showAlbum==================================");var t=c()("#gallery_2"),n=c()("#gallery_2Img"),i=c()("#modifyFiles");console.log("number----:",this.gameRound.number);var r={number:this.gameRound.number,code:this.gameRound.code};Object(f["b"])(this.gameRound.number,r).then(function(t){e.postersData=t,console.log("this.postersData----:",e.postersData)}),i.on("click","li",function(){n.attr("style",this.getAttribute("style")),t.fadeIn(100)}),t.on("click",function(){t.fadeOut(100)})},showImg:function(e){console.log("=============================showImg==================================");var t,n=c()("#gallery_2"),i=c()("#gallery_2Img"),r=c()("#modifyFiles"),o=window.URL||window.webkitURL||window.mozURL,a=e.target.files;console.log("files----:",a);for(var s=0,l=a.length;s<l;++s){var u=a[s];t=o?o.createObjectURL(u):e.target.result;var d={originalUrl:t};u.src=t,this.filelist.push(u),this.postersData.push(d)}r.on("click","li",function(){i.attr("style",this.getAttribute("style")),n.fadeIn(100)}),n.on("click",function(){n.fadeOut(100)})},notify:function(e,t){if(e&&"function"===typeof e[t]){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return e[t].apply(e,i)}},handleStepClick:function(e){console.log("this.activeStep =  ",this.activeStep),this.activeStep=e},onChanged:function(e){console.log("onChanged ",e),this.initData(),this.previewCommnad="refresh"}}},Fe=je,Le=(n("e3b5"),Object(S["a"])(Fe,i,r,!1,null,null,null));t["default"]=Le.exports},"1c81":function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},"1fde":function(e,t,n){var i=n("b109"),r=n("f3b9");function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new i(this.degree);t.fill(0);var n=i.concat([e,t],e.length+this.degree),o=r.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){var s=new i(this.degree);return s.fill(0),o.copy(s,a),s}return o},e.exports=o},2136:function(e,t){function n(e){if("string"!==typeof e)throw new Error("Param is not a string");var n=e.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,i){if(t.isValid(e))return e;try{return n(e)}catch(r){return i}}},2333:function(e,t,n){},2383:function(e,t,n){var i=n("0395"),r=1335,o=21522,a=i.getBCHDigit(r);t.getEncodedBits=function(e,t){var n=e.bit<<3|t,s=n<<10;while(i.getBCHDigit(s)-a>=0)s^=r<<i.getBCHDigit(s)-a;return(n<<10|s)^o}},"2fed":function(e,t,n){var i=n("0395").getSymbolSize,r=7;t.getPositions=function(e){var t=i(e);return[[0,0],[t-r,0],[0,t-r]]}},"3afb":function(e,t,n){var i=n("0395"),r=n("ca1b"),o=n("2136"),a=n("e6cc"),s=n("a7a2"),l=n("490f"),c=7973,u=i.getBCHDigit(c);function d(e,n,i){for(var r=1;r<=40;r++)if(n<=t.getCapacity(r,i,e))return r}function h(e,t){return a.getCharCountIndicator(e,t)+4}function f(e,t){var n=0;return e.forEach(function(e){var i=h(e.mode,t);n+=i+e.getBitsLength()}),n}function m(e,n){for(var i=1;i<=40;i++){var r=f(e,i);if(r<=t.getCapacity(i,n,a.MIXED))return i}}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=a.BYTE);var o=i.getSymbolTotalCodewords(e),l=r.getTotalCodewordsCount(e,t),c=8*(o-l);if(n===a.MIXED)return c;var u=c-h(n,e);switch(n){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(e,t){var n,i=o.from(t,o.M);if(l(e)){if(e.length>1)return m(e,i);if(0===e.length)return 1;n=e[0]}else n=e;return d(n.mode,n.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");var t=e<<12;while(i.getBCHDigit(t)-u>=0)t^=c<<i.getBCHDigit(t)-u;return e<<12|t}},"3bca":function(e,t,n){"use strict";var i=n("69ba"),r=n.n(i);r.a},"490f":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"491a":function(e,t,n){var i=n("e6cc"),r=n("64d6"),o=n("f3d2"),a=n("bc9c"),s=n("da2f"),l=n("5c69"),c=n("0395"),u=n("b7cc");function d(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){var i,r=[];while(null!==(i=e.exec(n)))r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){var t,n,r=h(l.NUMERIC,i.NUMERIC,e),o=h(l.ALPHANUMERIC,i.ALPHANUMERIC,e);c.isKanjiModeEnabled()?(t=h(l.BYTE,i.BYTE,e),n=h(l.KANJI,i.KANJI,e)):(t=h(l.BYTE_KANJI,i.BYTE,e),n=[]);var a=r.concat(o,t,n);return a.sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function m(e,t){switch(t){case i.NUMERIC:return r.getBitsLength(e);case i.ALPHANUMERIC:return o.getBitsLength(e);case i.KANJI:return s.getBitsLength(e);case i.BYTE:return a.getBitsLength(e)}}function p(e){return e.reduce(function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function g(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case i.NUMERIC:t.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:t.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:t.push([r,{data:r.data,mode:i.BYTE,length:d(r.data)}]);break;case i.BYTE:t.push([{data:r.data,mode:i.BYTE,length:d(r.data)}])}}return t}function v(e,t){for(var n={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],l=[],c=0;c<s.length;c++){var u=s[c],d=""+a+c;l.push(d),n[d]={node:u,lastCount:0},r[d]={};for(var h=0;h<o.length;h++){var f=o[h];n[f]&&n[f].node.mode===u.mode?(r[f][d]=m(n[f].lastCount+u.length,u.mode)-m(n[f].lastCount,u.mode),n[f].lastCount+=u.length):(n[f]&&(n[f].lastCount=u.length),r[f][d]=m(u.length,u.mode)+4+i.getCharCountIndicator(u.mode,t))}}o=l}for(h=0;h<o.length;h++)r[o[h]]["end"]=0;return{map:r,table:n}}function b(e,t){var n,l=i.getBestModeForData(e);if(n=i.from(t,l),n!==i.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(l));switch(n!==i.KANJI||c.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(e);case i.ALPHANUMERIC:return new o(e);case i.KANJI:return new s(e);case i.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"===typeof t?e.push(b(t,null)):t.data&&e.push(b(t.data,t.mode)),e},[])},t.fromString=function(e,n){for(var i=f(e,c.isKanjiModeEnabled()),r=g(i),o=v(r,n),a=u.find_path(o.map,"start","end"),s=[],l=1;l<a.length-1;l++)s.push(o.table[a[l]].node);return t.fromArray(p(s))},t.rawSplit=function(e){return t.fromArray(f(e,c.isKanjiModeEnabled()))}},"4c0e":function(e,t,n){},"4f7e":function(e,t,n){},"558f":function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n={N1:3,N2:3,N3:40,N4:10};function i(e,n,i){switch(e){case t.Patterns.PATTERN000:return(n+i)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(n+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return n*i%2+n*i%3===0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2===0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,i=0,r=0,o=0,a=null,s=null,l=0;l<t;l++){r=o=0,a=s=null;for(var c=0;c<t;c++){var u=e.get(l,c);u===a?r++:(r>=5&&(i+=n.N1+(r-5)),a=u,r=1),u=e.get(c,l),u===s?o++:(o>=5&&(i+=n.N1+(o-5)),s=u,o=1)}r>=5&&(i+=n.N1+(r-5)),o>=5&&(i+=n.N1+(o-5))}return i},t.getPenaltyN2=function(e){for(var t=e.size,i=0,r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==a&&0!==a||i++}return i*n.N2},t.getPenaltyN3=function(e){for(var t=e.size,i=0,r=0,o=0,a=0;a<t;a++){r=o=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(1488===r||93===r)&&i++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&i++}return i*n.N3},t.getPenaltyN4=function(e){for(var t=0,i=e.data.length,r=0;r<i;r++)t+=e.data[r];var o=Math.abs(Math.ceil(100*t/i/5)-10);return o*n.N4},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,i(e,o,r))},t.getBestMask=function(e,n){for(var i=Object.keys(t.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),t.applyMask(a,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<o&&(o=s,r=a)}return r}},"5bbc":function(e,t){function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var i=t.getScale(e,n);return Math.floor((e+2*n.margin)*i)},t.qrToImageData=function(e,n,i){for(var r=n.modules.size,o=n.modules.data,a=t.getScale(r,i),s=Math.floor((r+2*i.margin)*a),l=i.margin*a,c=[i.color.light,i.color.dark],u=0;u<s;u++)for(var d=0;d<s;d++){var h=4*(u*s+d),f=i.color.light;if(u>=l&&d>=l&&u<s-l&&d<s-l){var m=Math.floor((u-l)/a),p=Math.floor((d-l)/a);f=c[o[m*r+p]?1:0]}e[h++]=f.r,e[h++]=f.g,e[h++]=f.b,e[h]=f.a}}},"5c69":function(e,t){var n="[0-9]+",i="[A-Z $%*+\\-./:]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");var o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp(i,"g");var a=new RegExp("^"+r+"$"),s=new RegExp("^"+n+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return l.test(e)}},"5ead":function(e,t,n){},"601d":function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("7364");var i=n("98d4"),r=n("ab1f"),o=function(){function e(t,n){var r=this;Object(i["a"])(this,e),this.file=t;var o=n.url,a=n.headers;for(var s in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",o,!0),this.xhr.responseType="text",a)this.xhr.setRequestHeader(s,a[s]);this.xhr.addEventListener("load",function(e){return r.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return r.requestDidError(e)})}return Object(r["a"])(e,[{key:"create",value:function(e){this.callback=e,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(e){var t=this.xhr,n=t.status,i=t.response;n>=200&&n<300?this.callback(null,i):this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error storing "'.concat(this.file.name,'". Status: ').concat(this.xhr.status))}}]),e}()},"63a0":function(e,t,n){},"64ba":function(e,t,n){var i=n("0395").getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=i(e),r=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7],a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},t.getPositions=function(e){for(var n=[],i=t.getRowColCoords(e),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},"64d6":function(e,t,n){var i=n("e6cc");function r(e){this.mode=i.NUMERIC,this.data=e.toString()}r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);var r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,3*r+1))},e.exports=r},"69ba":function(e,t,n){},"6b6f":function(e,t,n){var i=n("b109"),r=n("0395"),o=n("2136"),a=n("1c81"),s=n("fb18"),l=n("64ba"),c=n("2fed"),u=n("558f"),d=n("ca1b"),h=n("1fde"),f=n("3afb"),m=n("2383"),p=n("e6cc"),g=n("491a"),v=n("490f");function b(e,t){for(var n=e.size,i=c.getPositions(t),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var l=-1;l<=7;l++)a+l<=-1||n<=a+l||(s>=0&&s<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===s||6===s)||s>=2&&s<=4&&l>=2&&l<=4?e.set(o+s,a+l,!0,!0):e.set(o+s,a+l,!1,!0))}function w(e){for(var t=e.size,n=8;n<t-8;n++){var i=n%2===0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}function y(e,t){for(var n=l.getPositions(t),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(r+a,o+s,!0,!0):e.set(r+a,o+s,!1,!0)}function _(e,t){for(var n,i,r,o=e.size,a=f.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),i=s%3+o-8-3,r=1===(a>>s&1),e.set(n,i,r,!0),e.set(i,n,r,!0)}function C(e,t,n){var i,r,o=e.size,a=m.getEncodedBits(t,n);for(i=0;i<15;i++)r=1===(a>>i&1),i<6?e.set(i,8,r,!0):i<8?e.set(i+1,8,r,!0):e.set(o-15+i,8,r,!0),i<8?e.set(8,o-i-1,r,!0):i<9?e.set(8,15-i-1+1,r,!0):e.set(8,15-i-1,r,!0);e.set(o-8,8,1,!0)}function R(e,t){for(var n=e.size,i=-1,r=n-1,o=7,a=0,s=n-1;s>0;s-=2){6===s&&s--;while(1){for(var l=0;l<2;l++)if(!e.isReserved(r,s-l)){var c=!1;a<t.length&&(c=1===(t[a]>>>o&1)),e.set(r,s-l,c),o--,-1===o&&(a++,o=7)}if(r+=i,r<0||n<=r){r-=i,i=-i;break}}}}function S(e,t,n){var i=new a;n.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)});var o=r.getSymbolTotalCodewords(e),s=d.getTotalCodewordsCount(e,t),l=8*(o-s);i.getLengthInBits()+4<=l&&i.put(0,4);while(i.getLengthInBits()%8!==0)i.putBit(0);for(var c=(l-i.getLengthInBits())/8,u=0;u<c;u++)i.put(u%2?17:236,8);return k(i,e,t)}function k(e,t,n){for(var o=r.getSymbolTotalCodewords(t),a=d.getTotalCodewordsCount(t,n),s=o-a,l=d.getBlocksCount(t,n),c=o%l,u=l-c,f=Math.floor(o/l),m=Math.floor(s/l),p=m+1,g=f-m,v=new h(g),b=0,w=new Array(l),y=new Array(l),_=0,C=new i(e.buffer),R=0;R<l;R++){var S=R<u?m:p;w[R]=C.slice(b,b+S),y[R]=v.encode(w[R]),b+=S,_=Math.max(_,S)}var k,E,x=new i(o),D=0;for(k=0;k<_;k++)for(E=0;E<l;E++)k<w[E].length&&(x[D++]=w[E][k]);for(k=0;k<g;k++)for(E=0;E<l;E++)x[D++]=y[E][k];return x}function E(e,t,n,i){var o;if(v(e))o=g.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");var a=t;if(!a){var l=g.rawSplit(e);a=f.getBestVersionForData(l,n)}o=g.fromString(e,a||40)}var c=f.getBestVersionForData(o,n);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<c)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else t=c;var d=S(t,n,o),h=r.getSymbolSize(t),m=new s(h);return b(m,t),w(m),y(m,t),C(m,n,0),t>=7&&_(m,t),R(m,d),isNaN(i)&&(i=u.getBestMask(m,C.bind(null,m,n))),u.applyMask(i,m),C(m,n,i),{modules:m,version:t,errorCorrectionLevel:n,maskPattern:i,segments:o}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");var n,i,a=o.M;return"undefined"!==typeof t&&(a=o.from(t.errorCorrectionLevel,o.M),n=f.from(t.version),i=u.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),E(e,n,a,i)}},"95f7":function(e,t,n){"use strict";var i=n("5ead"),r=n.n(i);r.a},a63d:function(e,t,n){var i=n("5bbc");function r(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}function o(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}t.render=function(e,t,n){var a=n,s=t;"undefined"!==typeof a||t&&t.getContext||(a=t,t=void 0),t||(s=o()),a=i.getOptions(a);var l=i.getImageWidth(e.modules.size,a),c=s.getContext("2d"),u=c.createImageData(l,l);return i.qrToImageData(u.data,e,a),r(c,s,l),c.putImageData(u,0,0),s},t.renderToDataURL=function(e,n,i){var r=i;"undefined"!==typeof r||n&&n.getContext||(r=n,n=void 0),r||(r={});var o=t.render(e,n,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}},a70a:function(e,t,n){var i,r,o=n("b109");o.alloc?(i=o.alloc(512),r=o.alloc(256)):(i=new o(512),r=new o(256)),function(){for(var e=1,t=0;t<255;t++)i[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[r[e]+r[t]]}},a7a2:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},a90a:function(e,t,n){var i=n("bd44"),r=n("6b6f"),o=n("a63d"),a=n("09d6");function s(e,t,n,o,a){var s=[].slice.call(arguments,1),l=s.length,c="function"===typeof s[l-1];if(!c&&!i())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=o=void 0):2!==l||t.getContext||(o=n,n=t,t=void 0),new Promise(function(i,a){try{var s=r.create(n,o);i(e(s,t,o))}catch(l){a(l)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(a=n,n=t,t=o=void 0):3===l&&(t.getContext&&"undefined"===typeof a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{var u=r.create(n,o);a(null,e(u,t,o))}catch(d){a(d)}}t.create=r.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,function(e,t,n){return a.render(e,n)})},a952:function(e,t,n){"use strict";var i=n("2333"),r=n.n(i);r.a},b109:function(e,t,n){"use strict";var i=n("490f");function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}a.TYPED_ARRAY_SUPPORT=r();var o=a.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function a(e,t,n){return a.TYPED_ARRAY_SUPPORT||this instanceof a?"number"===typeof e?u(this,e):w(this,e,t,n):new a(e,t,n)}function s(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function l(e){return e!==e}function c(e,t){var n;return a.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t),n.__proto__=a.prototype):(n=e,null===n&&(n=new a(t)),n.length=t),n}function u(e,t){var n=c(e,t<0?0:0|s(t));if(!a.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function d(e,t){var n=0|g(t),i=c(e,n),r=i.write(t);return r!==n&&(i=i.slice(0,r)),i}function h(e,t){for(var n=t.length<0?0:0|s(t.length),i=c(e,n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function f(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),a.TYPED_ARRAY_SUPPORT?r.__proto__=a.prototype:r=h(e,r),r}function m(e,t){if(a.isBuffer(t)){var n=0|s(t.length),i=c(e,n);return 0===i.length?i:(t.copy(i,0,0,n),i)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||l(t.length)?c(e,0):h(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function g(e){if(a.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var t=e.length;return 0===t?0:p(e).length}function v(e,t,n,i){for(var r=0;r<i;++r){if(r+n>=t.length||r>=e.length)break;t[r+n]=e[r]}return r}function b(e,t,n,i){return v(p(t,e.length-n),e,n,i)}function w(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,i):"string"===typeof t?d(e,t,n):m(e,t)}a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),a.prototype.write=function(e,t,n){void 0===t?(n=this.length,t=0):void 0===n&&"string"===typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return b(this,e,t,n)},a.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=a.prototype;else{var r=t-e;n=new a(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},a.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n){if("string"===typeof e){if("string"===typeof t?(t=0,n=this.length):"string"===typeof n&&(n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(r=t;r<n;++r)this[r]=e;else{var o=a.isBuffer(e)?e:new a(e),s=o.length;for(r=0;r<n-t;++r)this[r+t]=o[r%s]}return this},a.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u(null,t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.exports=a},b435:function(e,t,n){"use strict";var i=n("98d4"),r=n("ab1f"),o=n("0cf6"),a=n("601d"),s=(n("7364"),function(){function e(t,n,r,o){var a=this;Object(i["a"])(this,e),this.file=t,this.uploadExtrData=o,this.attributes={file_name:t.name,content_type:t.type,file_size:t.size,checksum:n},this.xhr=new XMLHttpRequest,this.xhr.open("POST",r,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.addEventListener("load",function(e){return a.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return a.requestDidError(e)})}return Object(r["a"])(e,[{key:"create",value:function(e){this.callback=e,console.log("this.uploadExtrData---:",this.uploadExtrData);var t=this.uploadExtrData,n=t.viewable_type,i=t.album_id;this.xhr.send(JSON.stringify({photo:this.attributes,viewable_type:n,album_id:i}))}},{key:"requestDidLoad",value:function(e){if(this.status>=200&&this.status<300){var t=this.response,n=t.directUploadData;delete t.directUploadData,this.attributes=t,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(e)}},{key:"requestDidError",value:function(e){this.callback('Error creating Blob for "'.concat(this.file.name,'". Status: ').concat(this.status))}},{key:"toJSON",value:function(){var e={};for(var t in this.attributes)e[t]=this.attributes[t];return e}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var e=this.xhr,t=e.responseType,n=e.response;return"json"===t?n:JSON.parse(n)}}]),e}()),l=0,c=function(){function e(t,n,r,o){Object(i["a"])(this,e),this.id=++l,this.file=t,this.url=n,this.delegate=r,this.uploadExtrData=o}return Object(r["a"])(e,[{key:"create",value:function(e){var t=this;o["a"].create(this.file,function(n,i){if(n)e(n);else{var r=new s(t.file,i,t.url,t.uploadExtrData);r.create(function(n){if(n)e(n);else{console.log("blob.create callback, blob = ",r);var i=new a["a"](t.file,r.directUploadData);u(t.delegate,"directUploadWillStoreFileWithXHR",i.xhr),i.create(function(t){t?e(t):e(null,r.toJSON())})}})}})}}]),e}();function u(e,t){if(e&&"function"===typeof e[t]){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return e[t].apply(e,i)}}n.d(t,"a",function(){return d});var d=function(){function e(t,n,r,o,a){Object(i["a"])(this,e),this.file=t,this.directupload=new c(t,n,this,r.data),this.uploaderOption=r,this.successCallback=o,this.failureCallback=a}return Object(r["a"])(e,[{key:"upload",value:function(){var e=this;console.log(" yes it is uploading "),this.directupload.create(function(t,n){t?(console.log("directupload",t),e.failureCallback&&e.failureCallback(t)):e.successCallback(n)})}},{key:"directUploadWillStoreFileWithXHR",value:function(e){var t=this;console.log("xhr request=",e),e.upload.addEventListener("progress",function(e){return t.directUploadDidProgress(e)})}},{key:"directUploadDidProgress",value:function(e){e.percent=e.loaded/e.total*100,console.log("directUploadDidProgress= ",e,this.file),this.uploaderOption.onProgress(e,this.file)}}]),e}()},b7cc:function(e,t,n){"use strict";var i={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var a,s,l,c,u,d,h,f,m,p=i.PriorityQueue.make();p.push(t,0);while(!p.empty())for(l in a=p.pop(),s=a.value,c=a.cost,u=e[s]||{},u)u.hasOwnProperty(l)&&(d=u[l],h=c+d,f=o[l],m="undefined"===typeof o[l],(m||f>h)&&(o[l]=h,p.push(l,h),r[l]=s));if("undefined"!==typeof n&&"undefined"===typeof o[n]){var g=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(g)}return r},extract_shortest_path_from_predecessor_list:function(e,t){var n=[],i=t;while(i)n.push(i),e[i],i=e[i];return n.reverse(),n},find_path:function(e,t,n){var r=i.single_source_shortest_paths(e,t,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(e){var t,n=i.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=i},bc9c:function(e,t,n){var i=n("b109"),r=n("e6cc");function o(e){this.mode=r.BYTE,this.data=new i(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},bd44:function(e,t){e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},ca1b:function(e,t,n){var i=n("2136"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return r[4*(e-1)+0];case i.M:return r[4*(e-1)+1];case i.Q:return r[4*(e-1)+2];case i.H:return r[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[4*(e-1)+0];case i.M:return o[4*(e-1)+1];case i.Q:return o[4*(e-1)+2];case i.H:return o[4*(e-1)+3];default:return}}},d023:function(e,t,n){"use strict";var i=n("63a0"),r=n.n(i);r.a},da2f:function(e,t,n){var i=n("e6cc"),r=n("0395");function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},e3b5:function(e,t,n){"use strict";var i=n("4f7e"),r=n.n(i);r.a},e474:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var i=n("7dfd"),r="/gapi/album",o=function(e,t){return Object(i["a"])(r+"/"+e+"/getPoster",t,"POST")},a=function(e,t){return Object(i["a"])(r+"/"+e+"/modifyPoster",t,"POST")},s=function(e,t){return Object(i["a"])(r+"/"+e+"/createDesc",t,"POST")}},e52d:function(e,t,n){"use strict";var i=n("4c0e"),r=n.n(i);r.a},e672:function(e,t,n){"use strict";var i=n("f50a"),r=n.n(i);r.a},e6cc:function(e,t,n){var i=n("a7a2"),r=n("5c69");function o(e){if("string"!==typeof e)throw new Error("Param is not a string");var n=e.toLowerCase();switch(n){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return r.testNumeric(e)?t.NUMERIC:r.testAlphanumeric(e)?t.ALPHANUMERIC:r.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return o(e)}catch(i){return n}}},f3b9:function(e,t,n){var i=n("b109"),r=n("a70a");t.mul=function(e,t){var n=new i(e.length+t.length-1);n.fill(0);for(var o=0;o<e.length;o++)for(var a=0;a<t.length;a++)n[o+a]^=r.mul(e[o],t[a]);return n},t.mod=function(e,t){var n=new i(e);while(n.length-t.length>=0){for(var o=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],o);var s=0;while(s<n.length&&0===n[s])s++;n=n.slice(s)}return n},t.generateECPolynomial=function(e){for(var n=new i([1]),o=0;o<e;o++)n=t.mul(n,[1,r.exp(o)]);return n}},f3d2:function(e,t,n){var i=n("e6cc"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*r.indexOf(this.data[t]);n+=r.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(r.indexOf(this.data[t]),6)},e.exports=o},f50a:function(e,t,n){},fb18:function(e,t,n){var i=n("b109");function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new i(e*e),this.data.fill(0),this.reservedBit=new i(e*e),this.reservedBit.fill(0)}r.prototype.set=function(e,t,n,i){var r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r}}]);